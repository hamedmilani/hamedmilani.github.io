<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Helsa Nurse Shift Management App</title>
  <style>
    body { font-family: Arial; margin: 2rem; background-color: #f4f4f4; }
    h1 { color: #333; }
    fieldset { border: 1px solid #ccc; padding: 1rem; margin-bottom: 2rem; background-color: white; }
    legend { font-weight: bold; }
    label { display: inline-block; width: 150px; margin-top: 0.5rem; }
    input, select, button { margin-top: 0.5rem; }
    table { border-collapse: collapse; margin-top: 1rem; width: 100%; }
    th, td { border: 1px solid #ccc; padding: 5px; text-align: center; }
    .section { margin-bottom: 2rem; }
  </style>
</head>
<body>

<h1>Helsa Nurse Shift Management App</h1>

<p>This tool helps healthcare administrators schedule nurses optimally by considering their availability, shift demands, and preferences. You can either manually enter data below or use prepared CSV templates.</p>

<div class="section">
  <fieldset>
    <legend>üìã Manual Data Entry</legend>

    <h3>Enter Nurses Info</h3>
    <p>Enter nurse details. Type: 0 = Normal, 1 = Senior</p>
    <table id="nursesTable">
      <thead><tr><th>ID</th><th>Name</th><th>Type</th><th>Action</th></tr></thead>
      <tbody></tbody>
    </table>
    <button onclick="addRow('nursesTable')">Add Nurse</button>

    <h3>Shift Requirements</h3>
    <p>Format: Start Date, End Date, Shift ID (1=Morning,2=Evening,3=Night), Nurse Type, Min, Max</p>
    <table id="requirementsTable">
      <thead><tr><th>Start</th><th>End</th><th>Shift</th><th>Type</th><th>Min</th><th>Max</th><th>Action</th></tr></thead>
      <tbody></tbody>
    </table>
    <button onclick="addRow('requirementsTable')">Add Requirement</button>

    <h3>Unavailable Shifts</h3>
    <p>Specify unavailabilities (Nurse ID, Shift ID, Date, Type)</p>
    <table id="unavailTable">
      <thead><tr><th>ID</th><th>Shift</th><th>Date</th><th>Type</th><th>Action</th></tr></thead>
      <tbody></tbody>
    </table>
    <button onclick="addRow('unavailTable')">Add Unavailability</button>

    <h3>Preferences</h3>
    <p>Preferred shifts (Nurse ID, Shift ID, Date, Type)</p>
    <table id="prefsTable">
      <thead><tr><th>ID</th><th>Shift</th><th>Date</th><th>Type</th><th>Action</th></tr></thead>
      <tbody></tbody>
    </table>
    <button onclick="addRow('prefsTable')">Add Preference</button>
  </fieldset>

  <fieldset>
    <legend>üìÅ CSV Upload Option</legend>
    <p>You can download the example input files below, edit them locally, zip them, and re-upload.</p>
    <a href="example_inputs.zip" download>üì• Download Example Input ZIP</a><br/><br/>
    <label for="zipUpload">üì§ Upload ZIP File:</label>
    <input type="file" id="zipUpload" accept=".zip" /><br/><br/>
    <button onclick="handleZipUpload()">Process Uploaded ZIP</button>
  </fieldset>
</div>

<div class="section">
  <button onclick="generateSchedule()">‚öôÔ∏è Generate Schedule (Mock)</button>
</div>

<div class="section">
  <h2>üìä Gantt Chart (Simulated)</h2>
  <p>This is a placeholder. Real charts will appear once Python backend is connected.</p>
  <img src="gantt_example.png" alt="Gantt Chart Example" style="width:100%; max-width:600px;">
</div>

<div class="section">
  <h2>üìÑ Download Reports</h2>
  <p>Download mock output reports (replace later with actual backend output).</p>
  <ul>
    <li><a href="optimal_schedule.csv" download>Download Optimal Schedule</a></li>
    <li><a href="nurse_stats.csv" download>Download Nurse Stats</a></li>
    <li><a href="shift_coverage.csv" download>Download Shift Coverage</a></li>
  </ul>
</div>

<script>
  function addRow(tableId) {
    const table = document.getElementById(tableId).getElementsByTagName('tbody')[0];
    const newRow = table.insertRow();
    const numCols = table.parentElement.getElementsByTagName('thead')[0].rows[0].cells.length - 1;
    for (let i = 0; i < numCols; i++) {
      const cell = newRow.insertCell();
      cell.innerHTML = `<input type="text" />`;
    }
    const delCell = newRow.insertCell();
    delCell.innerHTML = `<button onclick="this.parentElement.parentElement.remove()">‚ùå</button>`;
  }

  function generateSchedule() {
    alert("This is a mock implementation. Add a backend to process inputs.");
  }

  function handleZipUpload() {
    alert("ZIP upload handled here. You'll need a backend to extract and use the files.");
  }
</script>

</body>
</html>
